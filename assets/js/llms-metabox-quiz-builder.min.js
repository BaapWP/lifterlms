jQuery(document).ready(function(e){e("#add_new_question").click(function(){return get_questions(),!1}),e("#publish").click(function(){update_question_options()}),e(".llms-points").blur(function(){llms_total_points()}),delete_option(),single_option_sortable(),order_single_options(),llms_total_points(),e("#_llms_show_results").attr("checked")&&(e("#_llms_show_correct_answer").parent().parent().show(),e("#_llms_show_options_description_right_answer ").parent().parent().show(),e("#_llms_show_options_description_wrong_answer").parent().parent().show()),e("#_llms_show_results").on("change",function(){e("#_llms_show_results").attr("checked")?(e("#_llms_show_correct_answer").parent().parent().fadeIn(300),e("#_llms_show_options_description_right_answer ").parent().parent().fadeIn(300),e("#_llms_show_options_description_wrong_answer").parent().parent().fadeIn(300)):(e("#_llms_show_correct_answer").parent().parent().fadeOut(300),e("#_llms_show_options_description_right_answer ").parent().parent().fadeOut(300),e("#_llms_show_options_description_wrong_answer").parent().parent().fadeOut(300))})}),llms_total_points=function(){var e=0;jQuery(".llms-points").each(function(){e+=Number(jQuery(this).val()),jQuery("#llms_points_total").text(e)})},single_question_template=function(e){var t=jQuery("#llms-single-options tr").length,n=e;jQuery('<tr class="list_item" id="question_'+t+'" data-order="'+t+'" style="display: table-row;"><td class="llms-table-select"> 	<select id="question_select_'+t+'" name="_llms_question[]" data-placeholder="Choose a Section" class="chosen-select question-select"></select> 	</td> 	<td class="llms-table-points"><input type="text" class="llms-points" name="_llms_points[]" id="llms_points[]" value=""/> 	</td><td class="llms-table-options"> 	<i class="fa fa-bars llms-fa-move"></i><i data-code="f153" class="dashicons dashicons-dismiss deleteBtn single-option-delete"></i> 	</td></tr>').appendTo("#llms-single-options .question-list tbody").hide().fadeIn(300),jQuery(".llms-points").blur(function(){var e=0;jQuery(".llms-points").each(function(){e+=Number(jQuery(this).val()),jQuery("#llms_total_points").val(e)})});for(var s in n)if(n.hasOwnProperty(s)){var o=jQuery("#question_"+t+" #question_select_"+t),i='<option value="'+n[s].ID+'">'+n[s].post_title+"</option>";jQuery(o).append(i)}jQuery(o).prepend('<option value="" selected >None</option>'),jQuery(".question-select").chosen(),jQuery("#question_"+t+" .question-select").change(function(){get_edit_link(jQuery(this))}),delete_option(),order_single_options(),jQuery(".llms-points").blur(function(){llms_total_points()})},delete_option=function(){jQuery(".deleteBtn").click(function(){jQuery(this).attr("class");jQuery(this).parent().parent().remove(),order_single_options()})},single_option_sortable=function(){jQuery(".question-list").sortable({items:".list_item",axis:"y",placeholder:"placeholder",cursor:"move",forcePlaceholderSize:!0,helper:function(e,t){var n=t.children(),s=t.clone();return s.children().each(function(e){jQuery(this).width(n.eq(e).width())}),s},start:function(e,t){var n=t.item.index();t.item.data("start_pos",n)},update:function(e,t){var n=(t.item.data("start_pos"),jQuery(t.item).index());jQuery(t.item).attr("data-order",n),order_single_options()}})},order_single_options=function(){jQuery("#llms-single-options tr").each(function(e){jQuery(this).attr("data-order",e),jQuery(this).attr("id","question_"+e),jQuery(this).find(".question-select").each(function(){jQuery(this).attr("id","question_select_"+e)})})},get_questions=function(){var e=new Ajax("post",{action:"get_questions"},!0);e.get_questions()},get_edit_link=function(e){console.log("get edit link called"),console.log(e);var t=jQuery(e).val(),n=jQuery(e).attr("id");console.log("element_id"),console.log(n),console.log(t);var s=new Ajax("post",{action:"get_question",question_id:t},!0);s.get_question(t,n)},add_edit_link=function(e,t,n){console.log("add_edit_link called"),console.log(t),console.log(e),console.log(n);var s=document.createElement("a");s.setAttribute("href",encodeURI(e.edit_url));var o=document.createElement("i");o.setAttribute("class","fa fa-pencil-square-o llms-fa-edit "),s.appendChild(o),jQuery("#"+n).parent().parent().find(".llms-fa-edit").hide(),jQuery("#"+n).parent().next().next().append(s)};